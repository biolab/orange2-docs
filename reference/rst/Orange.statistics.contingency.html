
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Contingency table (contingency) &mdash; Orange Documentation v2.7.8</title>
    
    <link rel="stylesheet" href="../../_static/orange.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.7.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Orange Documentation v2.7.8" href="../../index.html" />
    <script type="text/javascript" src="../../_static/copybutton.js"></script>

  </head>
  <body>
	<div id="container">
    <div class="border1"></div>
    <div class="border2"></div>
    <div class="borderv">
        <div id="header">
			<div id="orangeimg"><h1><a href="http://orange.biolab.si"><img src="../../_static/orange-logo-w.png" alt="Orange" /></a></h1></div>

            <div id="cse-search-box" style="height: 22px;"></div>
            <div id="underimg"></div>
        </div>
    </div>
    <div class="border2"></div>
    <div class="border1"></div>

    <div id="main">
        <div class="border1"></div>
        <div class="border2"></div>
        <div class="borderv">
            <div id="maininner">
            <p style="font-size: 32px;">
                This is documentation for Orange 2.7. For the latest documentation, 
                <a href="http://orange.biolab.si/docs">
                see Orange 3</a>.
            </p>
 

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
    <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
           <p><a class="uplink" href="../../index.html">Orange Documentation v2.7.8</a></p>
           <ul>
<li><a class="reference internal" href="#">Contingency table (<tt class="docutils literal"><span class="pre">contingency</span></tt>)</a><ul>
<li><a class="reference internal" href="#contingency-tables">Contingency tables</a></li>
<li><a class="reference internal" href="#contingencies-for-entire-domain">Contingencies for entire domain</a></li>
<li><a class="reference internal" href="#contingency-tables-for-continuous-variables">Contingency tables for continuous variables</a></li>
</ul>
</li>
</ul>

        </div>
    </div>
    
  <div class="section" id="contingency-table-contingency">
<span id="index-0"></span><h1>Contingency table (<tt class="docutils literal"><span class="pre">contingency</span></tt>)<a class="headerlink" href="#contingency-table-contingency" title="Permalink to this headline">¶</a></h1>
<p>Contingency table contains conditional distributions. Unless explicitly
&#8216;normalized&#8217;, they contain absolute frequencies, that is, the number of
instances with a particular combination of two variables&#8217; values. If they are
normalized by dividing each cell by the row sum, the represent conditional
probabilities of the column variable (here denoted as <tt class="docutils literal"><span class="pre">innerVariable</span></tt>)
conditioned by the row variable (<tt class="docutils literal"><span class="pre">outerVariable</span></tt>).</p>
<p>Contingency tables are usually constructed for discrete variables. Tables
for continuous variables have certain limitations described in a <a class="reference internal" href="#contcont"><em>separate
section</em></a>.</p>
<p>The example below loads the monks-1 data set and prints out the conditional
class distribution given the value of <cite>e</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Orange</span>

<span class="n">monks</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s">&quot;monks-1.tab&quot;</span><span class="p">)</span>
<span class="n">cont</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">statistics</span><span class="o">.</span><span class="n">contingency</span><span class="o">.</span><span class="n">VarClass</span><span class="p">(</span><span class="s">&quot;e&quot;</span><span class="p">,</span> <span class="n">monks</span><span class="p">)</span>
<span class="k">for</span> <span class="n">val</span><span class="p">,</span> <span class="n">dist</span> <span class="ow">in</span> <span class="n">cont</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">print</span> <span class="n">val</span><span class="p">,</span> <span class="n">dist</span>
</pre></div>
</div>
<p>This code prints out:</p>
<div class="highlight-python"><pre>1 &lt;0.000, 108.000&gt;
2 &lt;72.000, 36.000&gt;
3 &lt;72.000, 36.000&gt;
4 &lt;72.000, 36.000&gt;</pre>
</div>
<p>Contingencies behave like lists of distributions (in this case, class
distributions) indexed by values (of <cite>e</cite>, in this
example). Distributions are, in turn indexed by values (class values,
here). The variable <cite>e</cite> from the above example is called the outer
variable, and the class is the inner. This can also be reversed. It is
also possible to use features for both, outer and inner variable, so
the table shows distributions of one variable&#8217;s values given the
value of another.  There is a corresponding hierarchy of classes:
<a class="reference internal" href="#Orange.statistics.contingency.Table" title="Orange.statistics.contingency.Table"><tt class="xref py py-obj docutils literal"><span class="pre">Table</span></tt></a> is a base class for <a class="reference internal" href="#Orange.statistics.contingency.VarVar" title="Orange.statistics.contingency.VarVar"><tt class="xref py py-obj docutils literal"><span class="pre">VarVar</span></tt></a> (both
variables are attributes) and <a class="reference internal" href="#Orange.statistics.contingency.Class" title="Orange.statistics.contingency.Class"><tt class="xref py py-obj docutils literal"><span class="pre">Class</span></tt></a> (one variable is
the class).  The latter is the base class for
<a class="reference internal" href="#Orange.statistics.contingency.VarClass" title="Orange.statistics.contingency.VarClass"><tt class="xref py py-obj docutils literal"><span class="pre">VarClass</span></tt></a> and <a class="reference internal" href="#Orange.statistics.contingency.ClassVar" title="Orange.statistics.contingency.ClassVar"><tt class="xref py py-obj docutils literal"><span class="pre">ClassVar</span></tt></a>.</p>
<p>The most commonly used of the above classes is <a class="reference internal" href="#Orange.statistics.contingency.VarClass" title="Orange.statistics.contingency.VarClass"><tt class="xref py py-obj docutils literal"><span class="pre">VarClass</span></tt></a> which
can compute and store conditional probabilities of classes given the feature value.</p>
<div class="section" id="contingency-tables">
<h2>Contingency tables<a class="headerlink" href="#contingency-tables" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="Orange.statistics.contingency.Table">
<em class="property">class </em><tt class="descclassname">Orange.statistics.contingency.</tt><tt class="descname">Table</tt><a class="headerlink" href="#Orange.statistics.contingency.Table" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a base class for storing and manipulating contingency
tables. Although it is not abstract, it is seldom used directly but rather
through more convenient derived classes described below.</p>
<dl class="attribute">
<dt id="Orange.statistics.contingency.Table.outerVariable">
<tt class="descname">outerVariable</tt><a class="headerlink" href="#Orange.statistics.contingency.Table.outerVariable" title="Permalink to this definition">¶</a></dt>
<dd><p>Outer variable (<a class="reference internal" href="Orange.feature.descriptor.html#Orange.feature.Descriptor" title="Orange.feature.Descriptor"><tt class="xref py py-class docutils literal"><span class="pre">Orange.feature.Descriptor</span></tt></a>) whose values are
used as the first, outer index.</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.statistics.contingency.Table.innerVariable">
<tt class="descname">innerVariable</tt><a class="headerlink" href="#Orange.statistics.contingency.Table.innerVariable" title="Permalink to this definition">¶</a></dt>
<dd><p>Inner variable(<a class="reference internal" href="Orange.feature.descriptor.html#Orange.feature.Descriptor" title="Orange.feature.Descriptor"><tt class="xref py py-class docutils literal"><span class="pre">Orange.feature.Descriptor</span></tt></a>), whose values are
used as the second, inner index.</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.statistics.contingency.Table.outerDistribution">
<tt class="descname">outerDistribution</tt><a class="headerlink" href="#Orange.statistics.contingency.Table.outerDistribution" title="Permalink to this definition">¶</a></dt>
<dd><p>The marginal distribution (<tt class="xref py py-class docutils literal"><span class="pre">Distribution</span></tt>) of the outer variable.</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.statistics.contingency.Table.innerDistribution">
<tt class="descname">innerDistribution</tt><a class="headerlink" href="#Orange.statistics.contingency.Table.innerDistribution" title="Permalink to this definition">¶</a></dt>
<dd><p>The marginal distribution (<tt class="xref py py-class docutils literal"><span class="pre">Distribution</span></tt>) of the inner variable.</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.statistics.contingency.Table.innerDistributionUnknown">
<tt class="descname">innerDistributionUnknown</tt><a class="headerlink" href="#Orange.statistics.contingency.Table.innerDistributionUnknown" title="Permalink to this definition">¶</a></dt>
<dd><p>The distribution (<tt class="xref py py-class docutils literal"><span class="pre">distribution.Distribution</span></tt>) of the inner variable for
instances for which the outer variable was undefined. This is the
difference between the <tt class="docutils literal"><span class="pre">innerDistribution</span></tt> and (unconditional)
distribution of inner variable.</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.statistics.contingency.Table.varType">
<tt class="descname">varType</tt><a class="headerlink" href="#Orange.statistics.contingency.Table.varType" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of the outer variable (<tt class="xref py py-obj docutils literal"><span class="pre">Orange.feature.Type</span></tt>, usually
<a class="reference internal" href="Orange.feature.descriptor.html#Orange.feature.Discrete" title="Orange.feature.Discrete"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.feature.Discrete</span></tt></a> or
<a class="reference internal" href="Orange.feature.descriptor.html#Orange.feature.Continuous" title="Orange.feature.Continuous"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.feature.Continuous</span></tt></a>); equals
<tt class="docutils literal"><span class="pre">outerVariable.varType</span></tt> and <tt class="docutils literal"><span class="pre">outerDistribution.varType</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="Orange.statistics.contingency.Table.__init__">
<tt class="descname">__init__</tt><big>(</big><em>outer_variable</em>, <em>inner_variable</em><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.Table.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an instance of contingency table for the given pair of
variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>outer_variable</strong> (<a class="reference internal" href="Orange.feature.descriptor.html#Orange.feature.Descriptor" title="Orange.feature.Descriptor"><em>Orange.feature.Descriptor</em></a>) &#8211; Descriptor of the outer variable</li>
<li><strong>outer_variable</strong> &#8211; Descriptor of the inner variable</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Orange.statistics.contingency.Table.add">
<tt class="descname">add</tt><big>(</big><em>outer_value</em>, <em>inner_value</em><span class="optional">[</span>, <em>weight=1</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.Table.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an element to the contingency table by adding <tt class="docutils literal"><span class="pre">weight</span></tt> to the
corresponding cell.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>outer_value</strong> (int, float, string or <a class="reference internal" href="Orange.data.value.html#Orange.data.Value" title="Orange.data.Value"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.data.Value</span></tt></a>) &#8211; The value for the outer variable</li>
<li><strong>inner_value</strong> (int, float, string or <a class="reference internal" href="Orange.data.value.html#Orange.data.Value" title="Orange.data.Value"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.data.Value</span></tt></a>) &#8211; The value for the inner variable</li>
<li><strong>weight</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Instance weight</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Orange.statistics.contingency.Table.normalize">
<tt class="descname">normalize</tt><big>(</big><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.Table.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize all distributions (rows) in the table to sum to <tt class="docutils literal"><span class="pre">1</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cont</span><span class="o">.</span><span class="n">normalize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">val</span><span class="p">,</span> <span class="n">dist</span> <span class="ow">in</span> <span class="n">cont</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="go">       print val, dist</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-python"><pre>1 &lt;0.000, 1.000&gt;
2 &lt;0.667, 0.333&gt;
3 &lt;0.667, 0.333&gt;
4 &lt;0.667, 0.333&gt;</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method does not change the <tt class="docutils literal"><span class="pre">innerDistribution</span></tt> or
<tt class="docutils literal"><span class="pre">outerDistribution</span></tt>.</p>
</div>
</dd></dl>

<p>With respect to indexing, contingency table is a cross between dictionary
and a list. It supports standard dictionary methods <tt class="docutils literal"><span class="pre">keys</span></tt>, <tt class="docutils literal"><span class="pre">values</span></tt> and
<tt class="docutils literal"><span class="pre">items</span></tt>.</p>
<div class="highlight-python"><pre>&gt;&gt; print cont.keys()
['1', '2', '3', '4']
&gt;&gt;&gt; print cont.values()
[&lt;0.000, 108.000&gt;, &lt;72.000, 36.000&gt;, &lt;72.000, 36.000&gt;, &lt;72.000, 36.000&gt;]
&gt;&gt;&gt; print cont.items()
[('1', &lt;0.000, 108.000&gt;), ('2', &lt;72.000, 36.000&gt;),
('3', &lt;72.000, 36.000&gt;), ('4', &lt;72.000, 36.000&gt;)]</pre>
</div>
<p>Although keys returned by the above functions are strings, contingency can
be indexed by anything that can be converted into values of the outer
variable: strings, numbers or instances of <tt class="docutils literal"><span class="pre">Orange.data.Value</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">cont</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&lt;0.000, 108.000&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">cont</span><span class="p">[</span><span class="s">&quot;1&quot;</span><span class="p">]</span>
<span class="go">&lt;0.000, 108.000&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">cont</span><span class="p">[</span><span class="n">orange</span><span class="o">.</span><span class="n">Value</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">domain</span><span class="p">[</span><span class="s">&quot;e&quot;</span><span class="p">],</span> <span class="s">&quot;1&quot;</span><span class="p">)]</span>
</pre></div>
</div>
<p>The length of the table equals the number of values of the outer
variable. However, iterating through contingency
does not return keys, as with dictionaries, but distributions.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">cont</span><span class="p">:</span>
<span class="go">    ... print i</span>
<span class="go">&lt;0.000, 108.000&gt;</span>
<span class="go">&lt;72.000, 36.000&gt;</span>
<span class="go">&lt;72.000, 36.000&gt;</span>
<span class="go">&lt;72.000, 36.000&gt;</span>
<span class="go">&lt;72.000, 36.000&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="Orange.statistics.contingency.Class">
<em class="property">class </em><tt class="descclassname">Orange.statistics.contingency.</tt><tt class="descname">Class</tt><a class="headerlink" href="#Orange.statistics.contingency.Class" title="Permalink to this definition">¶</a></dt>
<dd><p>An abstract base class for contingency tables that contain the class,
either as the inner or the outer variable.</p>
<dl class="attribute">
<dt id="Orange.statistics.contingency.Class.classVar">
<tt class="descname">classVar</tt><big>(</big><em>read only</em><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.Class.classVar" title="Permalink to this definition">¶</a></dt>
<dd><p>The class attribute descriptor; always equal to either
<a class="reference internal" href="#Orange.statistics.contingency.Table.innerVariable" title="Orange.statistics.contingency.Table.innerVariable"><tt class="xref py py-obj docutils literal"><span class="pre">Table.innerVariable</span></tt></a> or :obj:<tt class="docutils literal"><span class="pre">Table.outerVariable</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.statistics.contingency.Class.variable">
<tt class="descname">variable</tt><a class="headerlink" href="#Orange.statistics.contingency.Class.variable" title="Permalink to this definition">¶</a></dt>
<dd><p>Variable; always equal either to either <tt class="docutils literal"><span class="pre">innerVariable</span></tt> or <tt class="docutils literal"><span class="pre">outerVariable</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="Orange.statistics.contingency.Class.add_var_class">
<tt class="descname">add_var_class</tt><big>(</big><em>variable_value</em>, <em>class_value</em><span class="optional">[</span>, <em>weight=1</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.Class.add_var_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an element to contingency by increasing the corresponding count. The
difference between this and <a class="reference internal" href="#Orange.statistics.contingency.Table.add" title="Orange.statistics.contingency.Table.add"><tt class="xref py py-obj docutils literal"><span class="pre">Table.add</span></tt></a> is that the variable
value is always the first argument and class value the second,
regardless of which one is inner and which one is outer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_value</strong> (int, float, string or <a class="reference internal" href="Orange.data.value.html#Orange.data.Value" title="Orange.data.Value"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.data.Value</span></tt></a>) &#8211; Variable value</li>
<li><strong>class_value</strong> (int, float, string or <a class="reference internal" href="Orange.data.value.html#Orange.data.Value" title="Orange.data.Value"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.data.Value</span></tt></a>) &#8211; Class value</li>
<li><strong>weight</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Instance weight</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Orange.statistics.contingency.VarClass">
<em class="property">class </em><tt class="descclassname">Orange.statistics.contingency.</tt><tt class="descname">VarClass</tt><a class="headerlink" href="#Orange.statistics.contingency.VarClass" title="Permalink to this definition">¶</a></dt>
<dd><p>A class derived from <a class="reference internal" href="#Orange.statistics.contingency.Class" title="Orange.statistics.contingency.Class"><tt class="xref py py-obj docutils literal"><span class="pre">Class</span></tt></a> in which the variable is
used as <a class="reference internal" href="#Orange.statistics.contingency.Table.outerVariable" title="Orange.statistics.contingency.Table.outerVariable"><tt class="xref py py-obj docutils literal"><span class="pre">Table.outerVariable</span></tt></a> and class as the
<a class="reference internal" href="#Orange.statistics.contingency.Table.innerVariable" title="Orange.statistics.contingency.Table.innerVariable"><tt class="xref py py-obj docutils literal"><span class="pre">Table.innerVariable</span></tt></a>. This form is a form suitable for
computation of conditional class probabilities given the variable value.</p>
<p>Calling <tt class="xref py py-obj docutils literal"><span class="pre">VarClass.add_var_class(v,</span> <span class="pre">c)</span></tt> is equivalent to
<tt class="xref py py-obj docutils literal"><span class="pre">Table.add(v,</span> <span class="pre">c)</span></tt>. Similar as <a class="reference internal" href="#Orange.statistics.contingency.Table" title="Orange.statistics.contingency.Table"><tt class="xref py py-obj docutils literal"><span class="pre">Table</span></tt></a>,
<a class="reference internal" href="#Orange.statistics.contingency.VarClass" title="Orange.statistics.contingency.VarClass"><tt class="xref py py-obj docutils literal"><span class="pre">VarClass</span></tt></a> can compute contingency from instances.</p>
<dl class="method">
<dt id="Orange.statistics.contingency.VarClass.__init__">
<tt class="descname">__init__</tt><big>(</big><em>feature</em>, <em>class_variable</em><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.VarClass.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an instance of <a class="reference internal" href="#Orange.statistics.contingency.VarClass" title="Orange.statistics.contingency.VarClass"><tt class="xref py py-obj docutils literal"><span class="pre">VarClass</span></tt></a> for the given pair of
variables. Inherited from <a class="reference internal" href="#Orange.statistics.contingency.Table" title="Orange.statistics.contingency.Table"><tt class="xref py py-obj docutils literal"><span class="pre">Table</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>feature</strong> (<a class="reference internal" href="Orange.feature.descriptor.html#Orange.feature.Descriptor" title="Orange.feature.Descriptor"><em>Orange.feature.Descriptor</em></a>) &#8211; Outer variable</li>
<li><strong>class_attribute</strong> (<a class="reference internal" href="Orange.feature.descriptor.html#Orange.feature.Descriptor" title="Orange.feature.Descriptor"><em>Orange.feature.Descriptor</em></a>) &#8211; Class variable; used as <tt class="docutils literal"><span class="pre">innerVariable</span></tt></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">__init__</tt><big>(</big><em>feature</em>, <em>data</em><span class="optional">[</span>, <em>weightId</em><span class="optional">]</span><big>)</big></dt>
<dd><p>Compute the contingency table from data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>feature</strong> (<a class="reference internal" href="Orange.feature.descriptor.html#Orange.feature.Descriptor" title="Orange.feature.Descriptor"><em>Orange.feature.Descriptor</em></a>) &#8211; Outer variable</li>
<li><strong>data</strong> (<a class="reference internal" href="Orange.data.table.html#Orange.data.Table" title="Orange.data.Table"><em>Orange.data.Table</em></a>) &#8211; A set of instances</li>
<li><strong>weightId</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; meta attribute with weights of instances</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Orange.statistics.contingency.VarClass.p_class">
<tt class="descname">p_class</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.VarClass.p_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the probability distribution of classes given the value of the
variable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (int, float, string or <a class="reference internal" href="Orange.data.value.html#Orange.data.Value" title="Orange.data.Value"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.data.Value</span></tt></a>) &#8211; The value of the variable</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Orange.statistics.distribution.Distribution</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">p_class</tt><big>(</big><em>value</em>, <em>class_value</em><big>)</big></dt>
<dd><p>Returns the conditional probability of the class_value given the
feature value, p(class_value|value) (note the order of arguments!)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> (int, float, string or <a class="reference internal" href="Orange.data.value.html#Orange.data.Value" title="Orange.data.Value"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.data.Value</span></tt></a>) &#8211; The value of the variable</li>
<li><strong>class_value</strong> &#8211; The class value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Orange.statistics.contingency</span>

<span class="n">monks</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s">&quot;monks-1.tab&quot;</span><span class="p">)</span>
<span class="n">cont</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">statistics</span><span class="o">.</span><span class="n">contingency</span><span class="o">.</span><span class="n">VarClass</span><span class="p">(</span><span class="s">&quot;e&quot;</span><span class="p">,</span> <span class="n">monks</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Inner variable: &quot;</span><span class="p">,</span> <span class="n">cont</span><span class="o">.</span><span class="n">inner_variable</span><span class="o">.</span><span class="n">name</span>
<span class="k">print</span> <span class="s">&quot;Outer variable: &quot;</span><span class="p">,</span> <span class="n">cont</span><span class="o">.</span><span class="n">outer_variable</span><span class="o">.</span><span class="n">name</span>
<span class="k">print</span>
<span class="k">print</span> <span class="s">&quot;Class variable: &quot;</span><span class="p">,</span> <span class="n">cont</span><span class="o">.</span><span class="n">class_var</span><span class="o">.</span><span class="n">name</span>
<span class="k">print</span> <span class="s">&quot;Feature:      &quot;</span><span class="p">,</span> <span class="n">cont</span><span class="o">.</span><span class="n">variable</span><span class="o">.</span><span class="n">name</span>
<span class="k">print</span>

<span class="k">print</span> <span class="s">&quot;Distributions:&quot;</span>
<span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cont</span><span class="o">.</span><span class="n">variable</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;  p(.|</span><span class="si">%s</span><span class="s">) = </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">native</span><span class="p">(),</span> <span class="n">cont</span><span class="o">.</span><span class="n">p_class</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
<span class="k">print</span>

<span class="n">first_class</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Value</span><span class="p">(</span><span class="n">cont</span><span class="o">.</span><span class="n">class_var</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">first_native</span> <span class="o">=</span> <span class="n">first_class</span><span class="o">.</span><span class="n">native</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;Probabilities of class &#39;</span><span class="si">%s</span><span class="s">&#39;&quot;</span> <span class="o">%</span> <span class="n">first_native</span>
<span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cont</span><span class="o">.</span><span class="n">variable</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;  p(</span><span class="si">%s</span><span class="s">|</span><span class="si">%s</span><span class="s">) = </span><span class="si">%5.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">first_native</span><span class="p">,</span> <span class="n">val</span><span class="o">.</span><span class="n">native</span><span class="p">(),</span> 
                                  <span class="n">cont</span><span class="o">.</span><span class="n">p_class</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">first_class</span><span class="p">))</span>
</pre></div>
</div>
<p>The inner and the outer variable and their relations to the class are
as follows:</p>
<div class="highlight-python"><pre>Inner variable:  y
Outer variable:  e

Class variable:  y
Feature:         e</pre>
</div>
<p>Distributions are normalized, and probabilities are elements from the
normalized distributions. Knowing that the target concept is
y := (e=1) or (a=b), distributions are as expected: when e equals 1, class 1
has a 100% probability, while for the rest, probability is one third, which
agrees with a probability that two three-valued independent features
have the same value.</p>
<div class="highlight-python"><pre>Distributions:
  p(.|1) = &lt;0.000, 1.000&gt;
  p(.|2) = &lt;0.662, 0.338&gt;
  p(.|3) = &lt;0.659, 0.341&gt;
  p(.|4) = &lt;0.669, 0.331&gt;

Probabilities of class '1'
  p(1|1) = 1.000
  p(1|2) = 0.338
  p(1|3) = 0.341
  p(1|4) = 0.331

Distributions from a matrix computed manually:
  p(.|1) = &lt;0.000, 1.000&gt;
  p(.|2) = &lt;0.662, 0.338&gt;
  p(.|3) = &lt;0.659, 0.341&gt;
  p(.|4) = &lt;0.669, 0.331&gt;</pre>
</div>
</dd></dl>

<dl class="class">
<dt id="Orange.statistics.contingency.ClassVar">
<em class="property">class </em><tt class="descclassname">Orange.statistics.contingency.</tt><tt class="descname">ClassVar</tt><a class="headerlink" href="#Orange.statistics.contingency.ClassVar" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#Orange.statistics.contingency.ClassVar" title="Orange.statistics.contingency.ClassVar"><tt class="xref py py-obj docutils literal"><span class="pre">ClassVar</span></tt></a> is similar to <a class="reference internal" href="#Orange.statistics.contingency.VarClass" title="Orange.statistics.contingency.VarClass"><tt class="xref py py-obj docutils literal"><span class="pre">VarClass</span></tt></a> except
that the class is outside and the variable is inside. This form of
contingency table is suitable for computing conditional probabilities of
variable given the class. All methods get the two arguments in the same
order as <a class="reference internal" href="#Orange.statistics.contingency.VarClass" title="Orange.statistics.contingency.VarClass"><tt class="xref py py-obj docutils literal"><span class="pre">VarClass</span></tt></a>.</p>
<dl class="method">
<dt id="Orange.statistics.contingency.ClassVar.__init__">
<tt class="descname">__init__</tt><big>(</big><em>feature</em>, <em>class_variable</em><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.ClassVar.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an instance of <a class="reference internal" href="#Orange.statistics.contingency.VarClass" title="Orange.statistics.contingency.VarClass"><tt class="xref py py-obj docutils literal"><span class="pre">VarClass</span></tt></a> for the given pair of
variables. Inherited from <a class="reference internal" href="#Orange.statistics.contingency.Table" title="Orange.statistics.contingency.Table"><tt class="xref py py-obj docutils literal"><span class="pre">Table</span></tt></a>, except for the reversed
order of arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>feature</strong> (<a class="reference internal" href="Orange.feature.descriptor.html#Orange.feature.Descriptor" title="Orange.feature.Descriptor"><em>Orange.feature.Descriptor</em></a>) &#8211; Outer variable</li>
<li><strong>class_variable</strong> (<a class="reference internal" href="Orange.feature.descriptor.html#Orange.feature.Descriptor" title="Orange.feature.Descriptor"><em>Orange.feature.Descriptor</em></a>) &#8211; Class variable</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">__init__</tt><big>(</big><em>feature</em>, <em>data</em><span class="optional">[</span>, <em>weightId</em><span class="optional">]</span><big>)</big></dt>
<dd><p>Compute contingency table from the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>feature</strong> (<a class="reference internal" href="Orange.feature.descriptor.html#Orange.feature.Descriptor" title="Orange.feature.Descriptor"><em>Orange.feature.Descriptor</em></a>) &#8211; Descriptor of the outer variable</li>
<li><strong>data</strong> (<a class="reference internal" href="Orange.data.table.html#Orange.data.Table" title="Orange.data.Table"><em>Orange.data.Table</em></a>) &#8211; A set of instances</li>
<li><strong>weightId</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; meta attribute with weights of instances</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Orange.statistics.contingency.ClassVar.p_attr">
<tt class="descname">p_attr</tt><big>(</big><em>class_value</em><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.ClassVar.p_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the probability distribution of variable given the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>class_value</strong> (int, float, string or <a class="reference internal" href="Orange.data.value.html#Orange.data.Value" title="Orange.data.Value"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.data.Value</span></tt></a>) &#8211; The value of the variable</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Orange.statistics.distribution.Distribution</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">p_attr</tt><big>(</big><em>value</em>, <em>class_value</em><big>)</big></dt>
<dd><p>Returns the conditional probability of the value given the
class, p(value|class_value).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> (int, float, string or <a class="reference internal" href="Orange.data.value.html#Orange.data.Value" title="Orange.data.Value"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.data.Value</span></tt></a>) &#8211; Value of the variable</li>
<li><strong>class_value</strong> &#8211; Class value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Orange.statistics.contingency</span>

<span class="n">monks</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s">&quot;monks-1.tab&quot;</span><span class="p">)</span>
<span class="n">cont</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">statistics</span><span class="o">.</span><span class="n">contingency</span><span class="o">.</span><span class="n">ClassVar</span><span class="p">(</span><span class="s">&quot;e&quot;</span><span class="p">,</span> <span class="n">monks</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Inner variable: &quot;</span><span class="p">,</span> <span class="n">cont</span><span class="o">.</span><span class="n">inner_variable</span><span class="o">.</span><span class="n">name</span>
<span class="k">print</span> <span class="s">&quot;Outer variable: &quot;</span><span class="p">,</span> <span class="n">cont</span><span class="o">.</span><span class="n">outer_variable</span><span class="o">.</span><span class="n">name</span>
<span class="k">print</span>
<span class="k">print</span> <span class="s">&quot;Class variable: &quot;</span><span class="p">,</span> <span class="n">cont</span><span class="o">.</span><span class="n">class_var</span><span class="o">.</span><span class="n">name</span>
<span class="k">print</span> <span class="s">&quot;Attribute:      &quot;</span><span class="p">,</span> <span class="n">cont</span><span class="o">.</span><span class="n">variable</span><span class="o">.</span><span class="n">name</span>
<span class="k">print</span>

<span class="k">print</span> <span class="s">&quot;Distributions:&quot;</span>
<span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cont</span><span class="o">.</span><span class="n">class_var</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;  p(.|</span><span class="si">%s</span><span class="s">) = </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">native</span><span class="p">(),</span> <span class="n">cont</span><span class="o">.</span><span class="n">p_attr</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
<span class="k">print</span>

<span class="n">first_value</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Value</span><span class="p">(</span><span class="n">cont</span><span class="o">.</span><span class="n">variable</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">first_native</span> <span class="o">=</span> <span class="n">first_value</span><span class="o">.</span><span class="n">native</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;Probabilities for e=&#39;</span><span class="si">%s</span><span class="s">&#39;&quot;</span> <span class="o">%</span> <span class="n">first_native</span>
<span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cont</span><span class="o">.</span><span class="n">class_var</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;  p(</span><span class="si">%s</span><span class="s">|</span><span class="si">%s</span><span class="s">) = </span><span class="si">%5.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">first_native</span><span class="p">,</span> <span class="n">val</span><span class="o">.</span><span class="n">native</span><span class="p">(),</span> <span class="n">cont</span><span class="o">.</span><span class="n">p_attr</span><span class="p">(</span><span class="n">first_value</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
<span class="k">print</span>

<span class="n">cont</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">statistics</span><span class="o">.</span><span class="n">contingency</span><span class="o">.</span><span class="n">ClassVar</span><span class="p">(</span><span class="n">monks</span><span class="o">.</span><span class="n">domain</span><span class="p">[</span><span class="s">&quot;e&quot;</span><span class="p">],</span> <span class="n">monks</span><span class="o">.</span><span class="n">domain</span><span class="o">.</span><span class="n">class_var</span><span class="p">)</span>
<span class="k">for</span> <span class="n">ins</span> <span class="ow">in</span> <span class="n">monks</span><span class="p">:</span>
    <span class="n">cont</span><span class="o">.</span><span class="n">add_var_class</span><span class="p">(</span><span class="n">ins</span><span class="p">[</span><span class="s">&quot;e&quot;</span><span class="p">],</span> <span class="n">ins</span><span class="o">.</span><span class="n">get_class</span><span class="p">())</span>
</pre></div>
</div>
<p>The role of the feature and the class are reversed compared to
<a class="reference internal" href="#Orange.statistics.contingency.ClassVar" title="Orange.statistics.contingency.ClassVar"><tt class="xref py py-obj docutils literal"><span class="pre">ClassVar</span></tt></a>:</p>
<div class="highlight-python"><pre>Inner variable:  e
Outer variable:  y

Class variable:  y
Feature:         e</pre>
</div>
<p>Distributions given the class can be printed out by calling <a class="reference internal" href="#Orange.statistics.contingency.ClassVar.p_attr" title="Orange.statistics.contingency.ClassVar.p_attr"><tt class="xref py py-meth docutils literal"><span class="pre">p_attr()</span></tt></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cont</span><span class="o">.</span><span class="n">class_var</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;  p(.|</span><span class="si">%s</span><span class="s">) = </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">native</span><span class="p">(),</span> <span class="n">cont</span><span class="o">.</span><span class="n">p_attr</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
</pre></div>
</div>
<dl class="docutils">
<dt>will print::</dt>
<dd>p(.|0) = &lt;0.000, 0.333, 0.333, 0.333&gt;
p(.|1) = &lt;0.500, 0.167, 0.167, 0.167&gt;</dd>
</dl>
<p>If the class value is &#8216;0&#8217;, the attribute <cite>e</cite> cannot be <cite>1</cite> (the first
value), while distribution across other values is uniform.  If the class
value is <cite>1</cite>, <cite>e</cite> is <cite>1</cite> for exactly half of instances, and distribution of
other values is again uniform.</p>
</dd></dl>

<dl class="class">
<dt id="Orange.statistics.contingency.VarVar">
<em class="property">class </em><tt class="descclassname">Orange.statistics.contingency.</tt><tt class="descname">VarVar</tt><a class="headerlink" href="#Orange.statistics.contingency.VarVar" title="Permalink to this definition">¶</a></dt>
<dd><p>Contingency table in which none of the variables is the class.  The class
is derived from <a class="reference internal" href="#Orange.statistics.contingency.Table" title="Orange.statistics.contingency.Table"><tt class="xref py py-obj docutils literal"><span class="pre">Table</span></tt></a>, and adds an additional constructor and
method for getting conditional probabilities.</p>
<dl class="method">
<dt id="Orange.statistics.contingency.VarVar.VarVar">
<tt class="descname">VarVar</tt><big>(</big><em>outer_variable</em>, <em>inner_variable</em><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.VarVar.VarVar" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherited from <a class="reference internal" href="#Orange.statistics.contingency.Table" title="Orange.statistics.contingency.Table"><tt class="xref py py-obj docutils literal"><span class="pre">Table</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="Orange.statistics.contingency.VarVar.__init__">
<tt class="descname">__init__</tt><big>(</big><em>outer_variable</em>, <em>inner_variable</em>, <em>data</em><span class="optional">[</span>, <em>weightId</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.VarVar.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the contingency from the given instances.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>outer_variable</strong> (<a class="reference internal" href="Orange.feature.descriptor.html#Orange.feature.Descriptor" title="Orange.feature.Descriptor"><em>Orange.feature.Descriptor</em></a>) &#8211; Outer variable</li>
<li><strong>inner_variable</strong> (<a class="reference internal" href="Orange.feature.descriptor.html#Orange.feature.Descriptor" title="Orange.feature.Descriptor"><em>Orange.feature.Descriptor</em></a>) &#8211; Inner variable</li>
<li><strong>data</strong> (<a class="reference internal" href="Orange.data.table.html#Orange.data.Table" title="Orange.data.Table"><em>Orange.data.Table</em></a>) &#8211; A set of instances</li>
<li><strong>weightId</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; meta attribute with weights of instances</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Orange.statistics.contingency.VarVar.p_attr">
<tt class="descname">p_attr</tt><big>(</big><em>outer_value</em><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.VarVar.p_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the probability distribution of the inner variable given the
outer variable value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>outer_value</strong> (int, float, string or <a class="reference internal" href="Orange.data.value.html#Orange.data.Value" title="Orange.data.Value"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.data.Value</span></tt></a>) &#8211; The value of the outer variable</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Orange.statistics.distribution.Distribution</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">p_attr</tt><big>(</big><em>outer_value</em>, <em>inner_value</em><big>)</big></dt>
<dd><p>Return the conditional probability of the inner_value
given the outer_value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>outer_value</strong> (int, float, string or <a class="reference internal" href="Orange.data.value.html#Orange.data.Value" title="Orange.data.Value"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.data.Value</span></tt></a>) &#8211; The value of the outer variable</li>
<li><strong>inner_value</strong> (int, float, string or <a class="reference internal" href="Orange.data.value.html#Orange.data.Value" title="Orange.data.Value"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.data.Value</span></tt></a>) &#8211; The value of the inner variable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The following example investigates which material is used for
bridges of different lengths.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Orange</span>

<span class="n">bridges</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s">&quot;bridges.tab&quot;</span><span class="p">)</span>
<span class="n">cont</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">statistics</span><span class="o">.</span><span class="n">contingency</span><span class="o">.</span><span class="n">VarVar</span><span class="p">(</span><span class="s">&quot;SPAN&quot;</span><span class="p">,</span> <span class="s">&quot;MATERIAL&quot;</span><span class="p">,</span> <span class="n">bridges</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Distributions:&quot;</span>
<span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cont</span><span class="o">.</span><span class="n">outer_variable</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;  p(.|</span><span class="si">%s</span><span class="s">) = </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">native</span><span class="p">(),</span> <span class="n">cont</span><span class="o">.</span><span class="n">p_attr</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
<span class="k">print</span>

<span class="n">cont</span><span class="o">.</span><span class="n">normalize</span><span class="p">()</span>
<span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cont</span><span class="o">.</span><span class="n">outer_variable</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">:&quot;</span> <span class="o">%</span> <span class="n">val</span><span class="o">.</span><span class="n">native</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">inval</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">cont</span><span class="p">[</span><span class="n">val</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">p</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&quot;   </span><span class="si">%s</span><span class="s"> (</span><span class="si">%i%%</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">inval</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">p</span><span class="o">+</span><span class="mf">0.5</span><span class="p">))</span>
    <span class="k">print</span>
</pre></div>
</div>
<p>Short bridges are mostly wooden or iron, and the longer (and most of the
middle sized) are made from steel:</p>
<div class="highlight-python"><pre>SHORT:
   WOOD (56%)
   IRON (44%)

MEDIUM:
   WOOD (9%)
   IRON (11%)
   STEEL (79%)

LONG:
   STEEL (100%)</pre>
</div>
<p>As all other contingency tables, this one can also be computed &#8220;manually&#8221;.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cont</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">statistics</span><span class="o">.</span><span class="n">contingency</span><span class="o">.</span><span class="n">VarVar</span><span class="p">(</span><span class="n">bridges</span><span class="o">.</span><span class="n">domain</span><span class="p">[</span><span class="s">&quot;SPAN&quot;</span><span class="p">],</span> <span class="n">bridges</span><span class="o">.</span><span class="n">domain</span><span class="p">[</span><span class="s">&quot;MATERIAL&quot;</span><span class="p">])</span>
<span class="k">for</span> <span class="n">ins</span> <span class="ow">in</span> <span class="n">bridges</span><span class="p">:</span>
    <span class="n">cont</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ins</span><span class="p">[</span><span class="s">&quot;SPAN&quot;</span><span class="p">],</span> <span class="n">ins</span><span class="p">[</span><span class="s">&quot;MATERIAL&quot;</span><span class="p">])</span>

<span class="k">print</span> <span class="s">&quot;Distributions from a matrix computed manually:&quot;</span>
<span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cont</span><span class="o">.</span><span class="n">outer_variable</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;  p(.|</span><span class="si">%s</span><span class="s">) = </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">native</span><span class="p">(),</span> <span class="n">cont</span><span class="o">.</span><span class="n">p_attr</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
<span class="k">print</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="contingencies-for-entire-domain">
<h2>Contingencies for entire domain<a class="headerlink" href="#contingencies-for-entire-domain" title="Permalink to this headline">¶</a></h2>
<p>A list of contingency tables, either <a class="reference internal" href="#Orange.statistics.contingency.VarClass" title="Orange.statistics.contingency.VarClass"><tt class="xref py py-obj docutils literal"><span class="pre">VarClass</span></tt></a> or
<a class="reference internal" href="#Orange.statistics.contingency.ClassVar" title="Orange.statistics.contingency.ClassVar"><tt class="xref py py-obj docutils literal"><span class="pre">ClassVar</span></tt></a>.</p>
<dl class="class">
<dt id="Orange.statistics.contingency.Domain">
<em class="property">class </em><tt class="descclassname">Orange.statistics.contingency.</tt><tt class="descname">Domain</tt><a class="headerlink" href="#Orange.statistics.contingency.Domain" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="Orange.statistics.contingency.Domain.__init__">
<tt class="descname">__init__</tt><big>(</big><em>data</em><span class="optional">[</span>, <em>weight_id=0</em>, <em>class_outer=0|1</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.Domain.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a list of contingency tables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<a class="reference internal" href="Orange.data.table.html#Orange.data.Table" title="Orange.data.Table"><em>Orange.data.Table</em></a>) &#8211; A set of instances</li>
<li><strong>weight_id</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; meta attribute with weights of instances</li>
<li><strong>class_is_outer</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; <cite>True</cite>, if class is the outer variable</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">class_is_outer</span></tt> needs to be given as keyword argument.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="Orange.statistics.contingency.Domain.class_is_outer">
<tt class="descname">class_is_outer</tt><big>(</big><em>read only</em><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.Domain.class_is_outer" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether the class is the outer or the inner variable.</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.statistics.contingency.Domain.classes">
<tt class="descname">classes</tt><a class="headerlink" href="#Orange.statistics.contingency.Domain.classes" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the distribution of class values on the entire dataset.</p>
</dd></dl>

<dl class="method">
<dt id="Orange.statistics.contingency.Domain.normalize">
<tt class="descname">normalize</tt><big>(</big><big>)</big><a class="headerlink" href="#Orange.statistics.contingency.Domain.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Call normalize for all contingencies.</p>
</dd></dl>

<p>The following script prints the contingency tables for features
&#8220;a&#8221;, &#8220;b&#8221; and &#8220;e&#8221; for the dataset Monk 1.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&quot;c: &quot;</span><span class="p">,</span> <span class="n">dc</span><span class="p">[</span><span class="s">&quot;e&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Contingency tables of type <a class="reference internal" href="#Orange.statistics.contingency.VarClass" title="Orange.statistics.contingency.VarClass"><tt class="xref py py-obj docutils literal"><span class="pre">VarClass</span></tt></a> give
the conditional distributions of classes, given the value of the variable.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&quot;Distributions of feature values given the class value&quot;</span>
<span class="n">dc</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">statistics</span><span class="o">.</span><span class="n">contingency</span><span class="o">.</span><span class="n">Domain</span><span class="p">(</span><span class="n">monks</span><span class="p">,</span> <span class="n">classIsOuter</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;a: &quot;</span><span class="p">,</span> <span class="n">dc</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot;b: &quot;</span><span class="p">,</span> <span class="n">dc</span><span class="p">[</span><span class="s">&quot;b&quot;</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot;c: &quot;</span><span class="p">,</span> <span class="n">dc</span><span class="p">[</span><span class="s">&quot;e&quot;</span><span class="p">]</span>
<span class="k">print</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="contingency-tables-for-continuous-variables">
<span id="contcont"></span><h2>Contingency tables for continuous variables<a class="headerlink" href="#contingency-tables-for-continuous-variables" title="Permalink to this headline">¶</a></h2>
<p>If the outer variable is continuous, the index must be one of the
values that do exist in the contingency table; other values raise an
exception:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Orange</span>

<span class="n">iris</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s">&quot;iris.tab&quot;</span><span class="p">)</span>
<span class="n">cont</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">statistics</span><span class="o">.</span><span class="n">contingency</span><span class="o">.</span><span class="n">VarClass</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">iris</span><span class="p">)</span>
<span class="n">midkey</span> <span class="o">=</span> <span class="p">(</span><span class="n">cont</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">cont</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mf">2.0</span>
<span class="k">print</span> <span class="s">&quot;cont[</span><span class="si">%5.3f</span><span class="s">] =&quot;</span> <span class="o">%</span> <span class="n">midkey</span><span class="p">,</span> <span class="n">cont</span><span class="p">[</span><span class="n">midkey</span><span class="p">]</span>
</pre></div>
</div>
<p>Since even rounding can be a problem, the only safe way to get the key
is to take it from from the contingencies&#8217; <tt class="docutils literal"><span class="pre">keys</span></tt>.</p>
<p>Contingency tables with discrete outer variable and continuous inner variables
are more useful, since methods <tt class="xref py py-obj docutils literal"><span class="pre">ContingencyClassVar.p_class</span></tt>
and <tt class="xref py py-obj docutils literal"><span class="pre">ContingencyVarClass.p_attr</span></tt> use the primitive density estimation
provided by <a class="reference internal" href="Orange.statistics.distribution.html#Orange.statistics.distribution.Distribution" title="Orange.statistics.distribution.Distribution"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.statistics.distribution.Distribution</span></tt></a>.</p>
<p>For example, <a class="reference internal" href="#Orange.statistics.contingency.ClassVar" title="Orange.statistics.contingency.ClassVar"><tt class="xref py py-obj docutils literal"><span class="pre">ClassVar</span></tt></a> on the iris dataset can return the
probability of the sepal length 5.5 for different classes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Orange</span>

<span class="n">iris</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s">&quot;iris&quot;</span><span class="p">)</span>
<span class="n">cont</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">statistics</span><span class="o">.</span><span class="n">contingency</span><span class="o">.</span><span class="n">ClassVar</span><span class="p">(</span><span class="s">&quot;sepal length&quot;</span><span class="p">,</span> <span class="n">iris</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;Inner variable: &quot;</span><span class="p">,</span> <span class="n">cont</span><span class="o">.</span><span class="n">inner_variable</span><span class="o">.</span><span class="n">name</span>
<span class="k">print</span> <span class="s">&quot;Outer variable: &quot;</span><span class="p">,</span> <span class="n">cont</span><span class="o">.</span><span class="n">outer_variable</span><span class="o">.</span><span class="n">name</span>
<span class="k">print</span>
<span class="k">print</span> <span class="s">&quot;Class variable: &quot;</span><span class="p">,</span> <span class="n">cont</span><span class="o">.</span><span class="n">class_var</span><span class="o">.</span><span class="n">name</span>
<span class="k">print</span> <span class="s">&quot;Attribute:      &quot;</span><span class="p">,</span> <span class="n">cont</span><span class="o">.</span><span class="n">variable</span><span class="o">.</span><span class="n">name</span>
<span class="k">print</span>

<span class="k">print</span> <span class="s">&quot;Distributions:&quot;</span>
<span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cont</span><span class="o">.</span><span class="n">class_var</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;  p(.|</span><span class="si">%s</span><span class="s">) = </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">native</span><span class="p">(),</span> <span class="n">cont</span><span class="o">.</span><span class="n">p_attr</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
<span class="k">print</span>

<span class="k">print</span> <span class="s">&quot;Estimated for e=5.5&quot;</span>
<span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cont</span><span class="o">.</span><span class="n">class_var</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;  f(</span><span class="si">%s</span><span class="s">|</span><span class="si">%s</span><span class="s">) = </span><span class="si">%5.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="mf">5.5</span><span class="p">,</span> <span class="n">val</span><span class="o">.</span><span class="n">native</span><span class="p">(),</span> <span class="n">cont</span><span class="o">.</span><span class="n">p_attr</span><span class="p">(</span><span class="mf">5.5</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
<span class="k">print</span>

<span class="n">cont</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">statistics</span><span class="o">.</span><span class="n">contingency</span><span class="o">.</span><span class="n">ClassVar</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">domain</span><span class="p">[</span><span class="s">&quot;sepal length&quot;</span><span class="p">],</span> 
                                              <span class="n">iris</span><span class="o">.</span><span class="n">domain</span><span class="o">.</span><span class="n">class_var</span><span class="p">)</span>
<span class="k">for</span> <span class="n">ins</span> <span class="ow">in</span> <span class="n">iris</span><span class="p">:</span>
    <span class="n">cont</span><span class="o">.</span><span class="n">add_var_class</span><span class="p">(</span><span class="n">ins</span><span class="p">[</span><span class="s">&quot;sepal length&quot;</span><span class="p">],</span> <span class="n">ins</span><span class="o">.</span><span class="n">get_class</span><span class="p">())</span>

<span class="k">print</span> <span class="s">&quot;Distributions from a matrix computed manually:&quot;</span>
<span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">cont</span><span class="o">.</span><span class="n">class_var</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;  p(.|</span><span class="si">%s</span><span class="s">) = </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">native</span><span class="p">(),</span> <span class="n">cont</span><span class="o">.</span><span class="n">p_attr</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
<span class="k">print</span>
</pre></div>
</div>
<p>The script outputs:</p>
<div class="highlight-python"><pre>Estimated frequencies for e=5.5
  f(5.5|Iris-setosa) = 2.000
  f(5.5|Iris-versicolor) = 5.000
  f(5.5|Iris-virginica) = 1.000</pre>
</div>
<p>&#8220;&#8221;&#8220;</p>
<span class="target" id="module-Orange.statistics.contingency"></span></div>
</div>



          </div>
        </div>
      </div> 
      <div class="clearer"></div>
    </div>  
	
    <div class="footer">
    </div>
	            </div>
        </div>
        <div class="border1"></div>
        <div class="border2"></div>
    </div>
</div>

  </body>
</html>