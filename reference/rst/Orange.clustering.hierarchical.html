
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Hierarchical clustering (hierarchical) &mdash; Orange Documentation v2.7.8</title>
    
    <link rel="stylesheet" href="../../_static/orange.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.7.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Orange Documentation v2.7.8" href="../../index.html" />
    <script type="text/javascript" src="../../_static/copybutton.js"></script>

  </head>
  <body>
	<div id="container">
    <div class="border1"></div>
    <div class="border2"></div>
    <div class="borderv">
        <div id="header">
			<div id="orangeimg"><h1><a href="http://orange.biolab.si"><img src="../../_static/orange-logo-w.png" alt="Orange" /></a></h1></div>

            <div id="cse-search-box" style="height: 22px;"></div>
            <div id="underimg"></div>
        </div>
    </div>
    <div class="border2"></div>
    <div class="border1"></div>

    <div id="main">
        <div class="border1"></div>
        <div class="border2"></div>
        <div class="borderv">
            <div id="maininner">
            <p style="font-size: 32px;">
                This is documentation for Orange 2.7. For the latest documentation, 
                <a href="http://orange.biolab.si/docs">
                see Orange 3</a>.
            </p>
 

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
    <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
           <p><a class="uplink" href="../../index.html">Orange Documentation v2.7.8</a></p>
           <ul>
<li><a class="reference internal" href="#">Hierarchical clustering (<tt class="docutils literal"><span class="pre">hierarchical</span></tt>)</a><ul>
<li><a class="reference internal" href="#basic-functionality">Basic functionality</a></li>
<li><a class="reference internal" href="#drawing">Drawing</a></li>
<li><a class="reference internal" href="#cluster-analysis">Cluster analysis</a></li>
<li><a class="reference internal" href="#hierarchicalcluster-hierarchy">HierarchicalCluster hierarchy</a></li>
<li><a class="reference internal" href="#utility-functions">Utility Functions</a></li>
</ul>
</li>
</ul>

        </div>
    </div>
    
  <span class="target" id="module-Orange.clustering.hierarchical"></span><div class="section" id="hierarchical-clustering-hierarchical">
<h1>Hierarchical clustering (<tt class="docutils literal"><span class="pre">hierarchical</span></tt>)<a class="headerlink" href="#hierarchical-clustering-hierarchical" title="Permalink to this headline">¶</a></h1>
<span class="target" id="index-0"></span><p id="index-1">The following example show clustering of the Iris data, with distance matrix
computed with the <a class="reference internal" href="Orange.distance.html#Orange.distance.Euclidean" title="Orange.distance.Euclidean"><tt class="xref py py-class docutils literal"><span class="pre">Orange.distance.Euclidean</span></tt></a> distance measure
and cluster it with average linkage.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Orange</span>

<span class="n">iris</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s">&quot;iris&quot;</span><span class="p">)</span>

<span class="n">matrix</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">SymMatrix</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">iris</span><span class="p">))</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">distance</span><span class="o">.</span><span class="n">distance_matrix</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span> <span class="n">Orange</span><span class="o">.</span><span class="n">distance</span><span class="o">.</span><span class="n">Euclidean</span><span class="p">)</span>

<span class="n">clustering</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">clustering</span><span class="o">.</span><span class="n">hierarchical</span><span class="o">.</span><span class="n">HierarchicalClustering</span><span class="p">()</span>
<span class="n">clustering</span><span class="o">.</span><span class="n">linkage</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">clustering</span><span class="o">.</span><span class="n">hierarchical</span><span class="o">.</span><span class="n">AVERAGE</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">clustering</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>

<span class="n">root</span><span class="o">.</span><span class="n">mapping</span><span class="o">.</span><span class="n">objects</span> <span class="o">=</span> <span class="n">iris</span>
</pre></div>
</div>
<p>Data instances belonging to the top-most four clusters 
(obtained with <a class="reference internal" href="#Orange.clustering.hierarchical.top_clusters" title="Orange.clustering.hierarchical.top_clusters"><tt class="xref py py-obj docutils literal"><span class="pre">top_clusters</span></tt></a>) could be printed out
with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">topmost</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">Orange</span><span class="o">.</span><span class="n">clustering</span><span class="o">.</span><span class="n">hierarchical</span><span class="o">.</span><span class="n">top_clusters</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">)</span>

<span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">cluster</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">topmost</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="se">\n\n</span><span class="s"> Cluster </span><span class="si">%i</span><span class="s"> </span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">n</span>
    <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">cluster</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">instance</span>
</pre></div>
</div>
<p>It could be more informative to
print out the class distributions for each cluster.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">cluster</span> <span class="ow">in</span> <span class="n">topmost</span><span class="p">:</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">statistics</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">Distribution</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">domain</span><span class="o">.</span><span class="n">class_var</span><span class="p">,</span> \
        <span class="p">[</span> <span class="n">ex</span> <span class="k">for</span> <span class="n">ex</span> <span class="ow">in</span> <span class="n">cluster</span> <span class="p">])</span>
    <span class="k">for</span> <span class="n">e</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">dist</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">: </span><span class="si">%3.0f</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">domain</span><span class="o">.</span><span class="n">class_var</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">e</span><span class="p">],</span> <span class="n">d</span><span class="p">),</span>
    <span class="k">print</span>
</pre></div>
</div>
<p>Here is the output.</p>
<div class="highlight-python"><pre>Iris-setosa:   0  Iris-versicolor:  50  Iris-virginica:  17 
Iris-setosa:  49  Iris-versicolor:   0  Iris-virginica:   0 
Iris-setosa:   0  Iris-versicolor:   0  Iris-virginica:  33 
Iris-setosa:   1  Iris-versicolor:   0  Iris-virginica:   0</pre>
</div>
<p>The same results could also be obtained with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Orange</span>

<span class="n">iris</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s">&quot;iris&quot;</span><span class="p">)</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">clustering</span><span class="o">.</span><span class="n">hierarchical</span><span class="o">.</span><span class="n">clustering</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span>
    <span class="n">distance_constructor</span><span class="o">=</span><span class="n">Orange</span><span class="o">.</span><span class="n">distance</span><span class="o">.</span><span class="n">Euclidean</span><span class="p">,</span>
    <span class="n">linkage</span><span class="o">=</span><span class="n">Orange</span><span class="o">.</span><span class="n">clustering</span><span class="o">.</span><span class="n">hierarchical</span><span class="o">.</span><span class="n">AVERAGE</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="basic-functionality">
<h2>Basic functionality<a class="headerlink" href="#basic-functionality" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="Orange.clustering.hierarchical.clustering">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">clustering</tt><big>(</big><em>data</em>, <em>distance_constructor=&lt;type 'Orange.distance.Euclidean'&gt;</em>, <em>linkage=Average</em>, <em>order=False</em>, <em>progress_callback=None</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.clustering" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a hierarchical clustering of the instances in a data set.
The method works in approximately O(n2) time (with the worst case O(n3)).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference internal" href="Orange.data.table.html#Orange.data.Table" title="Orange.data.Table"><tt class="xref py py-class docutils literal"><span class="pre">Orange.data.Table</span></tt></a>) &#8211; Input data table for clustering.</li>
<li><strong>distance_constructor</strong> (<a class="reference internal" href="Orange.distance.html#Orange.distance.DistanceConstructor" title="Orange.distance.DistanceConstructor"><tt class="xref py py-class docutils literal"><span class="pre">Orange.distance.DistanceConstructor</span></tt></a>) &#8211; Instance distance constructor</li>
<li><strong>linkage</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; <p>Linkage flag. Must be one of module level flags:</p>
<ul>
<li><a class="reference internal" href="#Orange.clustering.hierarchical.SINGLE" title="Orange.clustering.hierarchical.SINGLE"><tt class="xref py py-obj docutils literal"><span class="pre">SINGLE</span></tt></a></li>
<li><a class="reference internal" href="#Orange.clustering.hierarchical.AVERAGE" title="Orange.clustering.hierarchical.AVERAGE"><tt class="xref py py-obj docutils literal"><span class="pre">AVERAGE</span></tt></a></li>
<li><a class="reference internal" href="#Orange.clustering.hierarchical.COMPLETE" title="Orange.clustering.hierarchical.COMPLETE"><tt class="xref py py-obj docutils literal"><span class="pre">COMPLETE</span></tt></a></li>
<li><a class="reference internal" href="#Orange.clustering.hierarchical.WARD" title="Orange.clustering.hierarchical.WARD"><tt class="xref py py-obj docutils literal"><span class="pre">WARD</span></tt></a></li>
</ul>
</li>
<li><strong>order</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; If <cite>True</cite> run <cite>order_leaves</cite> on the resulting clustering.</li>
<li><strong>progress_callback</strong> (<em>function</em>) &#8211; A function (taking one argument) to use for
reporting the on the progress.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="Orange.clustering.hierarchical.HierarchicalClustering">
<em class="property">class </em><tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">HierarchicalClustering</tt><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalClustering" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="Orange.clustering.hierarchical.HierarchicalClustering.linkage">
<tt class="descname">linkage</tt><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalClustering.linkage" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the linkage method, which can be either. Default is
<a class="reference internal" href="#Orange.clustering.hierarchical.SINGLE" title="Orange.clustering.hierarchical.SINGLE"><tt class="xref py py-obj docutils literal"><span class="pre">SINGLE</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.clustering.hierarchical.HierarchicalClustering.overwrite_matrix">
<tt class="descname">overwrite_matrix</tt><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalClustering.overwrite_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>If True (default is False), the algorithm will save memory
by working on the original distance matrix, destroying it in
the process.</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.clustering.hierarchical.HierarchicalClustering.progress_callback">
<tt class="descname">progress_callback</tt><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalClustering.progress_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>A callback function (None by default), which will be called 101 times.
The function only gets called if the number of objects is at least 1000.</p>
</dd></dl>

<dl class="method">
<dt id="Orange.clustering.hierarchical.HierarchicalClustering.__call__">
<tt class="descname">__call__</tt><big>(</big><em>matrix</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalClustering.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an instance of HierarchicalCluster representing
the root of the hierarchy (instance of <a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>).</p>
<p>The distance matrix has to contain no negative elements, as
this helps the algorithm to run faster. The elements on the
diagonal are ignored. The method works in approximately O(n2)
time (with the worst case O(n3)).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>matrix</strong> (<a class="reference internal" href="Orange.misc.html#Orange.misc.SymMatrix" title="Orange.misc.SymMatrix"><tt class="xref py py-class docutils literal"><span class="pre">Orange.misc.SymMatrix</span></tt></a>) &#8211; A distance matrix to perform the clustering on.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<p class="rubric">Linkage methods</p>
<dl class="data">
<dt id="Orange.clustering.hierarchical.SINGLE">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">SINGLE</tt><a class="headerlink" href="#Orange.clustering.hierarchical.SINGLE" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Distance between groups is defined as the distance between the closest</dt>
<dd>pair of objects, one from each group.</dd>
</dl>
</dd></dl>

<dl class="data">
<dt id="Orange.clustering.hierarchical.AVERAGE">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">AVERAGE</tt><a class="headerlink" href="#Orange.clustering.hierarchical.AVERAGE" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance between two clusters is defined as the average of distances
between all pairs of objects, where each pair is made up of one
object from each group.</p>
</dd></dl>

<dl class="data">
<dt id="Orange.clustering.hierarchical.COMPLETE">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">COMPLETE</tt><a class="headerlink" href="#Orange.clustering.hierarchical.COMPLETE" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance between groups is defined as the distance between the most
distant pair of objects, one from each group. Complete linkage is
also called farthest neighbor.</p>
</dd></dl>

<dl class="data">
<dt id="Orange.clustering.hierarchical.WARD">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">WARD</tt><a class="headerlink" href="#Orange.clustering.hierarchical.WARD" title="Permalink to this definition">¶</a></dt>
<dd><p>Ward&#8217;s distance.</p>
</dd></dl>

</div>
<div class="section" id="drawing">
<h2>Drawing<a class="headerlink" href="#drawing" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="Orange.clustering.hierarchical.dendrogram_draw">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">dendrogram_draw</tt><big>(</big><em>file</em>, <em>cluster</em>, <em>attr_cluster=None</em>, <em>labels=None</em>, <em>data=None</em>, <em>width=None</em>, <em>height=None</em>, <em>tree_height=None</em>, <em>heatmap_width=None</em>, <em>text_width=None</em>, <em>spacing=2</em>, <em>cluster_colors={}</em>, <em>color_palette=ColorPalette([(255</em>, <em>0</em>, <em>0)</em>, <em>(0</em>, <em>255</em>, <em>0)])</em>, <em>maxv=None</em>, <em>minv=None</em>, <em>gamma=None</em>, <em>format=None</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.dendrogram_draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the dendrogram to <tt class="docutils literal"><span class="pre">file</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file</strong> (<em>str or an file-like object suitable for writing.</em>) &#8211; An  open file or a filename to store the image to. The output format
is chosen according to the extension. Supported formats: PNG, EPS, SVG.</li>
<li><strong>cluster</strong> (<tt class="xref py py-class docutils literal"><span class="pre">HierarcicalCluster</span></tt>) &#8211; An instance of <tt class="xref py py-class docutils literal"><span class="pre">HierarcicalCluster</span></tt></li>
<li><strong>attr_cluster</strong> (<tt class="xref py py-class docutils literal"><span class="pre">HierarcicalCluster</span></tt>) &#8211; An instance of <tt class="xref py py-class docutils literal"><span class="pre">HierarcicalCluster</span></tt> for the attributes
in <tt class="docutils literal"><span class="pre">data</span></tt> (unused if <tt class="docutils literal"><span class="pre">data</span></tt> is not supplied)</li>
<li><strong>labels</strong> (<em>list-of-strings</em>) &#8211; Labels for the <tt class="docutils literal"><span class="pre">cluster</span></tt> leaves.</li>
<li><strong>data</strong> (<a class="reference internal" href="Orange.data.table.html#Orange.data.Table" title="Orange.data.Table"><tt class="xref py py-class docutils literal"><span class="pre">Orange.data.Table</span></tt></a>) &#8211; A data table for the (optional) heatmap.</li>
<li><strong>width</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Image width.</li>
<li><strong>height</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Image height.</li>
<li><strong>tree_height</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Dendrogram tree height in the image.</li>
<li><strong>heatmap_width</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Heatmap width.</li>
<li><strong>text_width</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Text labels area width.</li>
<li><strong>spacing</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Spacing between consecutive leaves.</li>
<li><strong>cluster_colors</strong> (<a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; A dictionary mapping <tt class="xref py py-class docutils literal"><span class="pre">HierarcicalCluster</span></tt>
instances in <tt class="docutils literal"><span class="pre">cluster</span></tt> to a RGB color 3-tuple.</li>
<li><strong>format</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Output image format Currently supported formats are
&#8220;png&#8221; (default), &#8220;eps&#8221; and &#8220;svg&#8221;. You only need this arguement if the
format cannot be deduced from the <tt class="docutils literal"><span class="pre">file</span></tt> argument.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Example</p>
<p>The following scripts clusters a subset of 20 instances from the Iris data set.
The leaves are labelled with the class value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Orange</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s">&quot;iris&quot;</span><span class="p">)</span>
<span class="n">sample</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">Orange</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sample</span><span class="o">.</span><span class="n">SubsetIndices2</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">clustering</span><span class="o">.</span><span class="n">hierarchical</span><span class="o">.</span><span class="n">clustering</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get_class</span><span class="p">())</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">sample</span><span class="p">]</span>
<span class="n">Orange</span><span class="o">.</span><span class="n">clustering</span><span class="o">.</span><span class="n">hierarchical</span><span class="o">.</span><span class="n">dendrogram_draw</span><span class="p">(</span>
    <span class="s">&quot;hclust-dendrogram.png&quot;</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span> 
</pre></div>
</div>
<p>The resulting dendrogram is shown below.</p>
<img alt="../../_images/hclust-dendrogram.png" src="../../_images/hclust-dendrogram.png" />
<p>The following code, that produces the dendrogram below, also colors the
three topmost branches and represents attribute values with a custom color
schema, (spanning red - black - green with custom gamma minv and maxv).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_colors</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">)]</span>
<span class="n">top_clusters</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">clustering</span><span class="o">.</span><span class="n">hierarchical</span><span class="o">.</span><span class="n">top_clusters</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">colors</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">cl</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">cl</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">top_clusters</span><span class="p">,</span> <span class="n">my_colors</span><span class="p">)])</span>
<span class="n">Orange</span><span class="o">.</span><span class="n">clustering</span><span class="o">.</span><span class="n">hierarchical</span><span class="o">.</span><span class="n">dendrogram_draw</span><span class="p">(</span>
    <span class="s">&quot;hclust-colored-dendrogram.png&quot;</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">sample</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> 
    <span class="n">cluster_colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">color_palette</span><span class="o">=</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)],</span> 
    <span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">minv</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">maxv</span><span class="o">=</span><span class="mf">7.0</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/hclust-colored-dendrogram.png" src="../../_images/hclust-colored-dendrogram.png" />
</div>
<div class="section" id="cluster-analysis">
<h2>Cluster analysis<a class="headerlink" href="#cluster-analysis" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="Orange.clustering.hierarchical.cluster_to_list">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">cluster_to_list</tt><big>(</big><em>node</em>, <em>prune=None</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.cluster_to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of clusters down from the node of hierarchical clustering.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>node</strong> (int or <cite>NoneType</cite>) &#8211; Cluster node.</li>
<li><strong>prune</strong> &#8211; If not <cite>None</cite> it must be a positive integer. Any cluster
with less then <cite>prune</cite> items will be left out of the list.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of <a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a> instances</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.top_clusters">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">top_clusters</tt><big>(</big><em>root</em>, <em>k</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.top_clusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Return k topmost clusters from hierarchical clustering.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>root</strong> (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>) &#8211; Root cluster.</li>
<li><strong>k</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of top clusters.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of <a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a> instances</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.top_cluster_membership">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">top_cluster_membership</tt><big>(</big><em>root</em>, <em>k</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.top_cluster_membership" title="Permalink to this definition">¶</a></dt>
<dd><p>Return data instances&#8217; cluster membership (list of indices) to k topmost clusters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>root</strong> (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>) &#8211; Root cluster.</li>
<li><strong>k</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of top clusters.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list-of-int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.order_leaves">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">order_leaves</tt><big>(</big><em>tree</em>, <em>matrix</em>, <em>progress_callback=None</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.order_leaves" title="Permalink to this definition">¶</a></dt>
<dd><p>Matplotlib dendrogram ploting. This is mostly untested,
use dendrogram_draw funciton instead of this.</p>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.postorder">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">postorder</tt><big>(</big><em>cluster</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.postorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a post order list of clusters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cluster</strong> (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>) &#8211; Cluster</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of <a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a> instances</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.preorder">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">preorder</tt><big>(</big><em>cluster</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.preorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a pre order list of clusters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cluster</strong> (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>) &#8211; Cluster</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of <a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a> instances</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.prune">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">prune</tt><big>(</big><em>cluster</em>, <em>level=None</em>, <em>height=None</em>, <em>condition=None</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Prune the clustering instance <tt class="docutils literal"><span class="pre">cluster</span></tt> in place.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cluster</strong> (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>) &#8211; Cluster to prune.</li>
<li><strong>level</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; If not None prune all clusters deeper then <cite>level</cite>.</li>
<li><strong>height</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; If not None prune all clusters with height lower then
<cite>height</cite>.</li>
<li><strong>condition</strong> (<em>function</em>) &#8211; If not None condition must be a function taking a
single <a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a> instance and returning a True 
or False value indicating if the cluster should be pruned.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.pruned">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">pruned</tt><big>(</big><em>cluster</em>, <em>level=None</em>, <em>height=None</em>, <em>condition=None</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.pruned" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new pruned clustering instance.    
It uses <a class="reference internal" href="#Orange.clustering.hierarchical.clone" title="Orange.clustering.hierarchical.clone"><tt class="xref py py-obj docutils literal"><span class="pre">clone</span></tt></a> to create a copy of the <cite>cluster</cite>
instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cluster</strong> (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>) &#8211; Cluster to prune.</li>
<li><strong>level</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; If not None prune all clusters deeper then <cite>level</cite>.</li>
<li><strong>height</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; If not None prune all clusters with height lower then
<cite>height</cite>.</li>
<li><strong>condition</strong> (<em>function</em>) &#8211; If not None condition must be a function taking a
single <a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a> instance and returning a True 
or False value indicating if the cluster should be pruned.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.clone">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">clone</tt><big>(</big><em>cluster</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>Clone a cluster, including it&#8217;s subclusters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cluster</strong> (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>) &#8211; Cluster to clone</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.cluster_depths">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">cluster_depths</tt><big>(</big><em>cluster</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.cluster_depths" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary mapping <a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a> instances to
their depths in the <cite>cluster</cite> hierarchy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cluster</strong> (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>) &#8211; Root cluster</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">class:<cite>dict</cite></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.cophenetic_distances">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">cophenetic_distances</tt><big>(</big><em>cluster</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.cophenetic_distances" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cophenetic distance matrix between items in clustering.
Cophenetic distance is defined as the height of the cluster where the 
two items are first joined.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cluster</strong> (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>) &#8211; Clustering.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="Orange.misc.html#Orange.misc.SymMatrix" title="Orange.misc.SymMatrix"><tt class="xref py py-class docutils literal"><span class="pre">Orange.misc.SymMatrix</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.cophenetic_correlation">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">cophenetic_correlation</tt><big>(</big><em>cluster</em>, <em>matrix</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.cophenetic_correlation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <a class="reference external" href="http://en.wikipedia.org/wiki/Cophenetic_correlation">cophenetic correlation coefficient</a> of the given
clustering.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cluster</strong> (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>) &#8211; Clustering.</li>
<li><strong>matrix</strong> &#8211; The distance matrix from which the <cite>cluster</cite> was
derived.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">float</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.joining_cluster">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">joining_cluster</tt><big>(</big><em>cluster</em>, <em>item1</em>, <em>item2</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.joining_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cluster where <cite>item1</cite> and <cite>item2</cite> are first joined</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cluster</strong> (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>) &#8211; Clustering.</li>
<li><strong>item1</strong> &#8211; An element of <cite>cluster.mapping</cite> or <cite>cluster.mapping.objects</cite></li>
<li><strong>item2</strong> &#8211; An element of <cite>cluster.mapping</cite> or <cite>cluster.mapping.objects</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="hierarchicalcluster-hierarchy">
<h2>HierarchicalCluster hierarchy<a class="headerlink" href="#hierarchicalcluster-hierarchy" title="Permalink to this headline">¶</a></h2>
<p>Results of clustering are stored in a hierarchy of
<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-obj docutils literal"><span class="pre">HierarchicalCluster</span></tt></a> objects.</p>
<dl class="class">
<dt id="Orange.clustering.hierarchical.HierarchicalCluster">
<em class="property">class </em><tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">HierarchicalCluster</tt><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Permalink to this definition">¶</a></dt>
<dd><p>A node in the clustering tree, as returned by
<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalClustering" title="Orange.clustering.hierarchical.HierarchicalClustering"><tt class="xref py py-obj docutils literal"><span class="pre">HierarchicalClustering</span></tt></a>.</p>
<dl class="attribute">
<dt id="Orange.clustering.hierarchical.HierarchicalCluster.branches">
<tt class="descname">branches</tt><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalCluster.branches" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of sub-clusters (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a> instances). If this
is a leaf node this attribute is <cite>None</cite></p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.clustering.hierarchical.HierarchicalCluster.left">
<tt class="descname">left</tt><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalCluster.left" title="Permalink to this definition">¶</a></dt>
<dd><p>The left sub-cluster (defined only if there are only two branches).
Same as <tt class="docutils literal"><span class="pre">branches[0]</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.clustering.hierarchical.HierarchicalCluster.right">
<tt class="descname">right</tt><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalCluster.right" title="Permalink to this definition">¶</a></dt>
<dd><p>The right sub-cluster (defined only if there are only two branches).
Same as <tt class="docutils literal"><span class="pre">branches[1]</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.clustering.hierarchical.HierarchicalCluster.height">
<tt class="descname">height</tt><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalCluster.height" title="Permalink to this definition">¶</a></dt>
<dd><p>Height of the cluster (distance between the sub-clusters).</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.clustering.hierarchical.HierarchicalCluster.mapping">
<tt class="descname">mapping</tt><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalCluster.mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of indices to the original distance matrix. It is the same
for all clusters in the hierarchy - it simply represents the indices
ordered according to the clustering.</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.clustering.hierarchical.HierarchicalCluster.mapping.objects">
<tt class="descclassname">mapping.</tt><tt class="descname">objects</tt><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalCluster.mapping.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>A sequence describing objects - an <a class="reference internal" href="Orange.data.table.html#Orange.data.Table" title="Orange.data.Table"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.data.Table</span></tt></a>, a
list of instance, a list of features (when clustering features),
or even a string of the same length as the number of elements.
If objects are given, the cluster&#8217;s elements, as got by indexing
or interacion, are not indices but corresponding objects.  It we
put an <a class="reference internal" href="Orange.data.table.html#Orange.data.Table" title="Orange.data.Table"><tt class="xref py py-obj docutils literal"><span class="pre">Orange.data.Table</span></tt></a> into objects, <tt class="docutils literal"><span class="pre">root.left[-1]</span></tt>
is the last instance of the first left cluster.</p>
</dd></dl>

<dl class="attribute">
<dt id="Orange.clustering.hierarchical.HierarchicalCluster.first">
<tt class="descname">first</tt><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalCluster.first" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="Orange.clustering.hierarchical.HierarchicalCluster.last">
<tt class="descname">last</tt><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalCluster.last" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">first</span></tt> and <tt class="docutils literal"><span class="pre">last</span></tt> are indices into the elements of <tt class="docutils literal"><span class="pre">mapping</span></tt> that
belong to that cluster.</p>
</dd></dl>

<dl class="method">
<dt id="Orange.clustering.hierarchical.HierarchicalCluster.__len__">
<tt class="descname">__len__</tt><big>(</big><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalCluster.__len__" title="Permalink to this definition">¶</a></dt>
<dd><p>Asking for the length of the cluster gives the number of the objects
belonging to it. This equals <tt class="docutils literal"><span class="pre">last</span> <span class="pre">-</span> <span class="pre">first</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="Orange.clustering.hierarchical.HierarchicalCluster.__getitem__">
<tt class="descname">__getitem__</tt><big>(</big><em>index</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalCluster.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>By indexing the cluster we address its elements; these are either 
indices or objects.
For instance cluster[2] gives the third element of the cluster, and
list(cluster) will return the cluster elements as a list. The cluster
elements are read-only.</p>
</dd></dl>

<dl class="method">
<dt id="Orange.clustering.hierarchical.HierarchicalCluster.swap">
<tt class="descname">swap</tt><big>(</big><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalCluster.swap" title="Permalink to this definition">¶</a></dt>
<dd><p>Swaps the <tt class="docutils literal"><span class="pre">left</span></tt> and the <tt class="docutils literal"><span class="pre">right</span></tt> subcluster; it will
report an error when the cluster has more than two subclusters. This 
function changes the mapping and first and last of all clusters below
this one and thus needs O(len(cluster)) time.</p>
</dd></dl>

<dl class="method">
<dt id="Orange.clustering.hierarchical.HierarchicalCluster.permute">
<tt class="descname">permute</tt><big>(</big><em>permutation</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.HierarchicalCluster.permute" title="Permalink to this definition">¶</a></dt>
<dd><p>Permutes the subclusters. Permutation gives the order in which the
subclusters will be arranged. As for swap, this function changes the
mapping and first and last of all clusters below this one.</p>
</dd></dl>

</dd></dl>

<p>Subclusters are ordered so that <tt class="docutils literal"><span class="pre">cluster.left.last</span></tt> always equals
<tt class="docutils literal"><span class="pre">cluster.right.first</span></tt> or, in general, <tt class="docutils literal"><span class="pre">cluster.branches[i].last</span></tt>
equals <tt class="docutils literal"><span class="pre">cluster.branches[i+1].first</span></tt>.</p>
<p>Swapping and permutation change the order of
elements in <tt class="docutils literal"><span class="pre">branches</span></tt>, permute the corresponding regions in
<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster.mapping" title="Orange.clustering.hierarchical.HierarchicalCluster.mapping"><tt class="xref py py-obj docutils literal"><span class="pre">mapping</span></tt></a> and adjust the <tt class="docutils literal"><span class="pre">first</span></tt> and <tt class="docutils literal"><span class="pre">last</span></tt>
for all the clusters below.</p>
<p class="rubric">An example</p>
<p>The following example constructs a simple distance matrix and runs clustering
on it.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">Orange</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="p">[[],</span>
<span class="gp">... </span>     <span class="p">[</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span>     <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>     <span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>     <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="gp">... </span>     <span class="p">[</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>     <span class="p">[</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">13</span><span class="p">],</span>
<span class="gp">... </span>     <span class="p">[</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span>     <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
<span class="gp">... </span>     <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">SymMatrix</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span> <span class="o">=</span> <span class="n">Orange</span><span class="o">.</span><span class="n">clustering</span><span class="o">.</span><span class="n">hierarchical</span><span class="o">.</span><span class="n">HierarchicalClustering</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">linkage</span><span class="o">=</span><span class="n">Orange</span><span class="o">.</span><span class="n">clustering</span><span class="o">.</span><span class="n">hierarchical</span><span class="o">.</span><span class="n">AVERAGE</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">root</span></tt> is the root of the cluster hierarchy. We can print it with a
simple recursive function.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">print_clustering</span><span class="p">(</span><span class="n">cluster</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">cluster</span><span class="o">.</span><span class="n">branches</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s">&quot;(</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">print_clustering</span><span class="p">(</span><span class="n">cluster</span><span class="o">.</span><span class="n">left</span><span class="p">),</span> <span class="n">print_clustering</span><span class="p">(</span><span class="n">cluster</span><span class="o">.</span><span class="n">right</span><span class="p">))</span>
<span class="gp">... </span>    <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">cluster</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p>The clustering looks like</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">print_clustering</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="go">&#39;(((0 4) ((5 7) (8 9))) ((1 (2 6)) 3))&#39;</span>
</pre></div>
</div>
<p>The elements form two groups, the first with elements 0, 4, 5, 7, 8, 9,
and the second with 1, 2, 6, 3. The difference between them equals to</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">root</span><span class="o">.</span><span class="n">height</span>
<span class="go">9.0</span>
</pre></div>
</div>
<p>The first cluster is further divided onto 0 and 4 in one, and 5, 7, 8,
9 in the other subcluster.</p>
<p>The following code prints the left subcluster of root.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">el</span><span class="p">,</span>
<span class="go">0 4 5 7 8 9</span>
</pre></div>
</div>
<p>Object descriptions can be added with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">root</span><span class="o">.</span><span class="n">mapping</span><span class="o">.</span><span class="n">objects</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Ann&quot;</span><span class="p">,</span> <span class="s">&quot;Bob&quot;</span><span class="p">,</span> <span class="s">&quot;Curt&quot;</span><span class="p">,</span> <span class="s">&quot;Danny&quot;</span><span class="p">,</span> <span class="s">&quot;Eve&quot;</span><span class="p">,</span> 
<span class="gp">... </span>   <span class="s">&quot;Fred&quot;</span><span class="p">,</span> <span class="s">&quot;Greg&quot;</span><span class="p">,</span> <span class="s">&quot;Hue&quot;</span><span class="p">,</span> <span class="s">&quot;Ivy&quot;</span><span class="p">,</span> <span class="s">&quot;Jon&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>As before, let us print out the elements of the first left cluster</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">el</span><span class="p">,</span>
<span class="go">Ann Eve Fred Hue Ivy Jon</span>
</pre></div>
</div>
<p>Calling <tt class="docutils literal"><span class="pre">root.left.swap</span></tt> reverses the order of subclusters of
<tt class="docutils literal"><span class="pre">root.left</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">print_clustering</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="go">&#39;(((Ann Eve) ((Fred Hue) (Ivy Jon))) ((Bob (Curt Greg)) Danny))&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">swap</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_clustering</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="go">&#39;((((Fred Hue) (Ivy Jon)) (Ann Eve)) ((Bob (Curt Greg)) Danny))&#39;</span>
</pre></div>
</div>
<p>Let us write function for cluster pruning.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">prune</span><span class="p">(</span><span class="n">cluster</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">cluster</span><span class="o">.</span><span class="n">branches</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="n">cluster</span><span class="o">.</span><span class="n">height</span> <span class="o">&lt;</span> <span class="n">h</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">cluster</span><span class="o">.</span><span class="n">branches</span> <span class="o">=</span> <span class="bp">None</span>
<span class="gp">... </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">for</span> <span class="n">branch</span> <span class="ow">in</span> <span class="n">cluster</span><span class="o">.</span><span class="n">branches</span><span class="p">:</span>
<span class="gp">... </span>                <span class="n">prune</span><span class="p">(</span><span class="n">branch</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
</pre></div>
</div>
<p>Here we need a function that can plot leafs with multiple elements.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">print_clustering2</span><span class="p">(</span><span class="n">cluster</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">cluster</span><span class="o">.</span><span class="n">branches</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s">&quot;(</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">print_clustering2</span><span class="p">(</span><span class="n">cluster</span><span class="o">.</span><span class="n">left</span><span class="p">),</span> <span class="n">print_clustering2</span><span class="p">(</span><span class="n">cluster</span><span class="o">.</span><span class="n">right</span><span class="p">))</span>
<span class="gp">... </span>    <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">cluster</span><span class="p">))</span>
</pre></div>
</div>
<p>Four clusters remain.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">prune</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">print_clustering2</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="go">((((&#39;Fred&#39;, &#39;Hue&#39;) (&#39;Ivy&#39;, &#39;Jon&#39;)) (&#39;Ann&#39;, &#39;Eve&#39;)) (&#39;Bob&#39;, &#39;Curt&#39;, &#39;Greg&#39;, &#39;Danny&#39;))</span>
</pre></div>
</div>
<p>The following function returns a list of lists.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">list_of_clusters0</span><span class="p">(</span><span class="n">cluster</span><span class="p">,</span> <span class="n">alist</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="ow">not</span> <span class="n">cluster</span><span class="o">.</span><span class="n">branches</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">alist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">cluster</span><span class="p">))</span>
<span class="gp">... </span>    <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">branch</span> <span class="ow">in</span> <span class="n">cluster</span><span class="o">.</span><span class="n">branches</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">list_of_clusters0</span><span class="p">(</span><span class="n">branch</span><span class="p">,</span> <span class="n">alist</span><span class="p">)</span>
<span class="gp">... </span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">list_of_clusters</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">l</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">... </span>    <span class="n">list_of_clusters0</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">l</span>
</pre></div>
</div>
<p>The function returns a list of lists, in our case</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">list_of_clusters</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="go">[[&#39;Fred&#39;, &#39;Hue&#39;], [&#39;Ivy&#39;, &#39;Jon&#39;], [&#39;Ann&#39;, &#39;Eve&#39;], [&#39;Bob&#39;, &#39;Curt&#39;, &#39;Greg&#39;, &#39;Danny&#39;]]</span>
</pre></div>
</div>
<p>If <a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster.mapping.objects" title="Orange.clustering.hierarchical.HierarchicalCluster.mapping.objects"><tt class="xref py py-obj docutils literal"><span class="pre">objects</span></tt></a> were not defined the list
would contains indices instead of names.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">root</span><span class="o">.</span><span class="n">mapping</span><span class="o">.</span><span class="n">objects</span> <span class="o">=</span> <span class="bp">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">list_of_clusters</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="go">[[5, 7], [8, 9], [0, 4], [1, 2, 6, 3]]</span>
</pre></div>
</div>
</div>
<div class="section" id="utility-functions">
<h2>Utility Functions<a class="headerlink" href="#utility-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="Orange.clustering.hierarchical.clustering_features">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">clustering_features</tt><big>(</big><em>data</em>, <em>distance=None</em>, <em>linkage=Average</em>, <em>order=False</em>, <em>progress_callback=None</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.clustering_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Return hierarchical clustering of attributes in a data set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference internal" href="Orange.data.table.html#Orange.data.Table" title="Orange.data.Table"><tt class="xref py py-class docutils literal"><span class="pre">Orange.data.Table</span></tt></a>) &#8211; Input data table for clustering.</li>
<li><strong>distance</strong> &#8211; Attribute distance constructor  (currently not used).</li>
<li><strong>linkage</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; <p>Linkage flag; one of global module level flags:</p>
<ul>
<li>SINGLE</li>
<li>AVERAGE</li>
<li>COMPLETE</li>
<li>WARD</li>
</ul>
</li>
<li><strong>order</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; If <cite>True</cite> run <cite>order_leaves</cite> on the resulting clustering.</li>
<li><strong>progress_callback</strong> (<em>function</em>) &#8211; A function (taking one argument) to use for
reporting the on the progress.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.feature_distance_matrix">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">feature_distance_matrix</tt><big>(</big><em>data</em>, <em>distance=None</em>, <em>progress_callback=None</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.feature_distance_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>A helper function that computes an <a class="reference internal" href="Orange.misc.html#Orange.misc.SymMatrix" title="Orange.misc.SymMatrix"><tt class="xref py py-class docutils literal"><span class="pre">Orange.misc.SymMatrix</span></tt></a> of
all pairwise distances between features in <cite>data</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference internal" href="Orange.data.table.html#Orange.data.Table" title="Orange.data.Table"><tt class="xref py py-class docutils literal"><span class="pre">Orange.data.Table</span></tt></a>) &#8211; A data table</li>
<li><strong>distance</strong> (<em>function</em>) &#8211; a function taking two lists and returning the distance.</li>
<li><strong>progress_callback</strong> (<em>function</em>) &#8211; A function (taking one argument) to use for
reporting the on the progress.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="Orange.misc.html#Orange.misc.SymMatrix" title="Orange.misc.SymMatrix"><tt class="xref py py-class docutils literal"><span class="pre">Orange.misc.SymMatrix</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Orange.clustering.hierarchical.dendrogram_layout">
<tt class="descclassname">Orange.clustering.hierarchical.</tt><tt class="descname">dendrogram_layout</tt><big>(</big><em>cluster</em>, <em>expand_leaves=False</em><big>)</big><a class="headerlink" href="#Orange.clustering.hierarchical.dendrogram_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a layout of the cluster dendrogram on a 2D plane. The return 
value if a list of (subcluster, (start, center, end)) tuples where
subcluster is an instance of <a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a> and start,
end are the two end points for the cluster branch. The list is sorted
in post-order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cluster</strong> (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>) &#8211; Cluster to layout.</li>
<li><strong>expand_leaves</strong> &#8211; If True leaves will span proportional to the number
of items they contain, else all leaves will be the same width.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of (<a class="reference internal" href="#Orange.clustering.hierarchical.HierarchicalCluster" title="Orange.clustering.hierarchical.HierarchicalCluster"><tt class="xref py py-class docutils literal"><span class="pre">HierarchicalCluster</span></tt></a>, (start, center, end)) tuples</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>



          </div>
        </div>
      </div> 
      <div class="clearer"></div>
    </div>  
	
    <div class="footer">
    </div>
	            </div>
        </div>
        <div class="border1"></div>
        <div class="border2"></div>
    </div>
</div>

  </body>
</html>